(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Q05f:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("AytR"),i=n("fXoL"),c=n("tk/3");let o=(()=>{class t{constructor(t){this.http=t,this.API_URL=a.a.APIEndpoint}getCompanyList(t){return this.http.get(this.API_URL+"/company",{params:t})}addCompany(t){return this.http.post(this.API_URL+"/company",t)}editCompany(t,e){return this.http.put(`${this.API_URL}/company/${t}`,e)}deleteCompany(t){return this.http.delete(`${this.API_URL}/company/${t}`)}getCompanyById(t,e=null){return this.http.get(`${this.API_URL}/company/${t}`,{params:e})}}return t.\u0275fac=function(e){return new(e||t)(i.Tb(c.b))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac}),t})()},j1MJ:function(t,e,n){"use strict";n.r(e),n.d(e,"CompanyListModule",(function(){return w}));var a=n("ofXK"),i=n("tyNb"),c=n("zzOR"),o=n("fXoL"),r=n("Q05f"),b=n("8cFx"),s=n("AwSQ"),d=n("c8VH"),u=n("Chay"),l=n("33RK");const h=function(t){return["edit",t]};function p(t,e){if(1&t){const t=o.Qb();o.Pb(0,"tr"),o.Pb(1,"td"),o.Pb(2,"div",25),o.Xb("click",(function(){o.nc(t);const n=e.$implicit;return o.Zb().onCompanySelect(n)})),o.Kb(3,"i",26),o.Pb(4,"div",27),o.Pb(5,"a"),o.Pb(6,"h5",28),o.uc(7),o.Ob(),o.Ob(),o.Pb(8,"span",29),o.uc(9),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(10,"td",30),o.uc(11),o.Ob(),o.Pb(12,"td"),o.uc(13),o.Ob(),o.Pb(14,"td",20),o.Pb(15,"span",31),o.uc(16,"Active"),o.Ob(),o.Ob(),o.Pb(17,"td",32),o.Pb(18,"div",33),o.Pb(19,"a",34),o.Kb(20,"i",35),o.Ob(),o.Pb(21,"div",36),o.Pb(22,"a",37),o.Kb(23,"i",38),o.uc(24," Edit"),o.Ob(),o.Pb(25,"a",39),o.Xb("click",(function(){o.nc(t);const n=e.$implicit;return o.Zb().deleteObject(n)})),o.Kb(26,"i",40),o.uc(27," Delete"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}if(2&t){const t=e.$implicit;o.zb(7),o.vc(t.name),o.zb(2),o.vc(null==t?null:t.address),o.zb(2),o.xc(" ",null!=t&&t.dial_code?null==t?null:t.dial_code:""," ",null!=t&&t.phone_number?null==t?null:t.phone_number:"-",""),o.zb(2),o.vc(null==t?null:t.email),o.zb(9),o.ec("routerLink",o.hc(6,h,t.id))}}function m(t,e){1&t&&(o.Pb(0,"tr"),o.Pb(1,"td",41),o.uc(2,"No Record Found"),o.Ob(),o.Ob())}const g=function(){return["/dashboard"]},P=function(){return["add"]};let f=(()=>{class t{constructor(t,e,n,a,i){this.router=t,this.companyService=e,this.commonService=n,this.dataService=a,this.paginationService=i,this.loadingState=!0,this.objectArray=[],this.pagination=null,this.searchText=null,this.currentPage=1}ngOnInit(){this.subscription=this.dataService.searchTextSubject.subscribe(t=>{this.searchText=t,this.getObjects()})}getObjects(){this.loadingState=!0;const t={page:this.currentPage};this.searchText&&(t.search=this.searchText),this.companyService.getCompanyList(t).subscribe(t=>{this.loadingState=!1,t.success?(this.objectArray=t.data.data,this.pagination=this.paginationService.getPager(t.data.pagination.total_page,this.currentPage)):(this.objectArray=[],this.pagination=null)},t=>{this.loadingState=!1,this.objectArray=[],this.pagination=null})}getPage(t){this.currentPage=t,this.getObjects()}searchObject(t){this.searchText=t,this.getObjects()}deleteObject(t){swal.fire({title:c.a.delete_header_text,text:c.a.delete_smalll_text,icon:c.a.delete_dialogue_type,showCancelButton:!0,confirmButtonText:c.a.delete_confirm_button,cancelButtonText:c.a.delete_cancel_button}).then(e=>{e.value&&this.companyService.deleteCompany(t.id).subscribe(t=>{t.success&&this.getObjects()})}).catch(swal.noop)}onCompanySelect(t){this.commonService.selectCompany(t.id).subscribe(t=>{t.success?(this.dataService.updateCompany(t.data.company),this.router.navigateByUrl("/dashboard")):(this.objectArray=[],this.pagination=null)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(i.e),o.Jb(r.a),o.Jb(b.a),o.Jb(s.a),o.Jb(d.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-company-list"]],decls:40,vars:9,consts:[[3,"show"],[1,"page-breadcrumb"],[1,"row"],[1,"col-7","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item"],["routerLinkActive","router-link-active",1,"text-muted",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","text-muted","active"],[1,"col-5","align-self-center"],[1,"customize-input","float-right"],["type","button",1,"btn","btn-outline-info","border-0","custom-shadow","custom-radius",3,"routerLink"],[1,"content"],[1,"page-content","container-fluid"],[1,"card","strache-card"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","m-0"],[1,"table-field-status"],[1,"table-field-actions"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"paginationList","currentPage","onPageChange"],[1,"media","d-user",3,"click"],[1,"fa","fa-building-o","align-self-center","fa-lg","mr-3","text-muted"],[1,"media-body"],[1,"mt-1","mb-0"],[1,"text-muted"],[1,"text-nowrap"],[1,"badge","badge-pill","badge-success"],[1,"table-field-actions","text-center"],[1,"action-drop","dropdown"],["href","#","data-toggle","dropdown","title","",1,"btn","btn-default","btn-sm","btn-icon-only"],[1,"fas","fa-ellipsis-h"],[1,"dropdown-menu","dropdown-icon-menu","dropdown-menu-right"],[1,"dropdown-item",3,"routerLink"],[1,"fa","fa-edit","fa-fw","text-primary"],[1,"dropdown-item",3,"click"],[1,"fa","fa-trash","fa-fw","text-primary"],["colspan","5"]],template:function(t,e){1&t&&(o.Kb(0,"loder",0),o.Pb(1,"div",1),o.Pb(2,"div",2),o.Pb(3,"div",3),o.Pb(4,"h4",4),o.uc(5,"Company"),o.Ob(),o.Pb(6,"div",5),o.Pb(7,"nav",6),o.Pb(8,"ol",7),o.Pb(9,"li",8),o.Pb(10,"a",9),o.uc(11,"Apps"),o.Ob(),o.Ob(),o.Pb(12,"li",10),o.uc(13,"Company List"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(14,"div",11),o.Pb(15,"div",12),o.Pb(16,"button",13),o.uc(17,"Add Company"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(18,"div",14),o.Pb(19,"section",15),o.Pb(20,"div",16),o.Pb(21,"div",17),o.Pb(22,"div",18),o.Pb(23,"table",19),o.Pb(24,"thead"),o.Pb(25,"tr"),o.Pb(26,"th"),o.uc(27,"Name"),o.Ob(),o.Pb(28,"th"),o.uc(29,"Phone Number"),o.Ob(),o.Pb(30,"th"),o.uc(31,"Email"),o.Ob(),o.Pb(32,"th",20),o.uc(33,"Status"),o.Ob(),o.Pb(34,"th",21),o.uc(35,"Action"),o.Ob(),o.Ob(),o.Ob(),o.Pb(36,"tbody"),o.sc(37,p,28,8,"tr",22),o.sc(38,m,3,0,"tr",23),o.Ob(),o.Ob(),o.Ob(),o.Pb(39,"pagination",24),o.Xb("onPageChange",(function(t){return e.getPage(t)})),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&t&&(o.ec("show",e.loadingState),o.zb(10),o.ec("routerLink",o.gc(7,g)),o.zb(6),o.ec("routerLink",o.gc(8,P)),o.zb(21),o.ec("ngForOf",e.objectArray),o.zb(1),o.ec("ngIf",0==e.objectArray.length),o.zb(1),o.ec("paginationList",e.pagination)("currentPage",e.currentPage))},directives:[u.a,i.h,i.g,i.f,a.j,a.k,l.a],encapsulation:2}),t})();var O=n("8Vnw"),y=n("yCMK");const v=[{path:"",component:f,data:{title:"company_list"}},{path:"add",loadChildren:()=>Promise.all([n.e(1),n.e(0),n.e(8)]).then(n.bind(null,"PSbb")).then(t=>t.AddCompanyModule),data:{title:"add_company"}},{path:"edit/:id",loadChildren:()=>Promise.all([n.e(1),n.e(0),n.e(8)]).then(n.bind(null,"PSbb")).then(t=>t.AddCompanyModule),data:{title:"edit_company"}}];let w=(()=>{class t{}return t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},providers:[r.a],imports:[[a.b,O.a,y.a,i.i.forChild(v)]]}),t})()}}]);