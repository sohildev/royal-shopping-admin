function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ZLTr:function(e,t,i){"use strict";i.r(t),i.d(t,"CategoryAddModule",(function(){return w}));var n=i("ofXK"),a=i("3Pt+"),r=i("tyNb"),o=i("Vr6k"),s=i("PCNd"),c=i("fXoL"),d=i("es7i"),b=i("Chay"),l=i("HOh6"),u=i("UaFz");function f(e,t){1&e&&(c.Pb(0,"div",38),c.Kb(1,"div",39),c.Ob())}function m(e,t){1&e&&c.Kb(0,"i",40)}function p(e,t){1&e&&c.Kb(0,"i",41)}var h,g,v=function(){return["/category"]},y=((h=function(){function e(t,i,n,r){_classCallCheck(this,e),this.router=t,this.activatedRoute=i,this.fb=n,this.categoryService=r,this.loadingState=!1,this.editImageUrl=null,this.showLoader=!1,this.formErrors={name:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id"),this.editObject()),this.addForm=n.group({name:[null,a.p.compose([a.p.required])]})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"editObject",value:function(){var e=this;this.loadingState=!0,this.categoryService.getCategoryById(this.editId).subscribe((function(t){e.loadingState=!1,t.data&&(e.editImageUrl=t.data.image,e.addForm.patchValue({name:t.data.name}))}),(function(t){e.loadingState=!1,e.router.navigateByUrl("/category")}))}},{key:"fileChangeEvent",value:function(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0]}},{key:"removeFile",value:function(){this.selectedFile=null}},{key:"submitForm",value:function(e){var t=this;this.addForm.valid&&(this.showLoader=!0,this.isEditing?this.categoryService.editCategory(this.editId,e.value).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/category"):(t.showLoader=!1,e.error.map((function(e){e.hasOwnProperty("name")&&(t.formErrors.name=e.name)})))})):this.categoryService.addCategory(e.value).subscribe((function(e){t.showLoader=!1,e.success?t.router.navigateByUrl("/category"):(t.showLoader=!1,e.error.map((function(e){e.hasOwnProperty("name")&&(t.formErrors.name=e.name)})))})))}}]),e}()).\u0275fac=function(e){return new(e||h)(c.Jb(r.e),c.Jb(r.a),c.Jb(a.c),c.Jb(d.a))},h.\u0275cmp=c.Db({type:h,selectors:[["app-category-add"]],decls:49,vars:11,consts:[[3,"show"],[1,"content"],[1,"page-header"],[1,"d-flex","align-items-center"],[1,"mr-auto","p-3"],[1,"page-content","container-fluid"],["class","lorder-wrap",4,"ngIf"],[1,"card","card-tabs","strache-card"],["role","form",3,"formGroup","ngSubmit"],[1,"card-body","p-25","p-l-30","p-r-30"],[1,"d-flex"],[1,"left-form-content","m-l-20","m-r-40"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-secondary","btn-sm","btn-file","mt-3"],["accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"row","flex"],[1,"col-xl-12",2,"margin-left","25px"],[1,"form-row"],[1,"col-sm-12"],[1,"form-group"],[1,"control-label"],["type","text",1,"form-control",3,"formControl"],[1,"card-footer","text-right"],[1,"btn-list"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"routerLink"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-outline-success","btn-rounded",3,"disabled"],["class","fas fa-check",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"lorder-wrap"],[1,"loader"],[1,"fas","fa-check"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,t){1&e&&(c.Kb(0,"loder",0),c.Pb(1,"div",1),c.Pb(2,"header",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"h1"),c.uc(6),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"section",5),c.sc(8,f,2,0,"div",6),c.Pb(9,"div",7),c.Pb(10,"form",8),c.Xb("ngSubmit",(function(){return t.submitForm(t.addForm)})),c.Pb(11,"div",9),c.Pb(12,"div",10),c.Pb(13,"div",11),c.Pb(14,"div",12),c.Pb(15,"div",13),c.Pb(16,"div",14),c.Pb(17,"div",15),c.Kb(18,"img",16),c.Ob(),c.Kb(19,"div",12),c.Pb(20,"button",17),c.uc(21," Browse Image "),c.Ob(),c.Pb(22,"input",18),c.Xb("change",(function(e){return t.fileChangeEvent(e)})),c.Ob(),c.Kb(23,"div",19),c.Ob(),c.Pb(24,"div",20),c.Pb(25,"a",21),c.Xb("click",(function(){return t.removeFile()})),c.uc(26,"Remove"),c.Ob(),c.Ob(),c.Pb(27,"div",22),c.Pb(28,"p",23),c.uc(29,"*Recommended Size: "),c.Kb(30,"br"),c.uc(31,"Minimum 250 * 250"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(32,"div",24),c.Pb(33,"div",25),c.Pb(34,"div",26),c.Pb(35,"div",27),c.Pb(36,"div",28),c.Pb(37,"label",29),c.uc(38,"Name"),c.Ob(),c.Kb(39,"input",30),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(40,"div",31),c.Pb(41,"div",32),c.Pb(42,"button",33),c.Kb(43,"i",34),c.uc(44," Cancel"),c.Ob(),c.Pb(45,"button",35),c.sc(46,m,1,0,"i",36),c.sc(47,p,1,0,"i",37),c.uc(48," Success"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.ec("show",t.loadingState),c.zb(6),c.wc("",t.isEditing?"Update":"Create"," Category"),c.zb(2),c.ec("ngIf",t.loadingState),c.zb(2),c.ec("formGroup",t.addForm),c.zb(8),c.ec("src",t.editImageUrl?t.editImageUrl:"assets/images/demo.png",c.pc),c.zb(21),c.ec("formControl",t.addForm.controls.name),c.zb(3),c.ec("routerLink",c.gc(10,v)),c.zb(3),c.ec("disabled",t.showLoader),c.zb(1),c.ec("ngIf",!t.showLoader),c.zb(1),c.ec("ngIf",t.showLoader))},directives:[b.a,n.k,a.r,a.j,l.a,a.e,a.b,a.i,a.d,u.a,r.f],encapsulation:2}),h),P=i("yCMK"),O=[{path:"",component:y}],w=((g=function e(){_classCallCheck(this,e)}).\u0275mod=c.Hb({type:g}),g.\u0275inj=c.Gb({factory:function(e){return new(e||g)},imports:[[n.b,a.f,a.n,r.i.forChild(O),o.a,P.a,s.a]]}),g)}}]);