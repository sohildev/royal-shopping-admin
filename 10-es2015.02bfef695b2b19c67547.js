(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{PCNd:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r("ofXK"),a=r("fXoL");let o=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[i.b]]}),e})()},pPHm:function(e,t,r){"use strict";r.r(t),r.d(t,"CustomerReviewAddModule",(function(){return P}));var i=r("ofXK"),a=r("3Pt+"),o=r("tyNb"),s=r("Vr6k"),n=r("PCNd"),d=r("yCMK"),c=r("fXoL"),b=r("CW9Z"),l=r("Chay"),u=r("HOh6"),m=r("UaFz");function p(e,t){1&e&&(c.Pb(0,"div",27),c.Kb(1,"div",28),c.Ob())}function h(e,t){1&e&&c.Kb(0,"i",29)}function f(e,t){1&e&&c.Kb(0,"i",30)}const v=function(){return["/customer-review"]};let g=(()=>{class e{constructor(e,t,r,i){this.router=e,this.activatedRoute=t,this.fb=r,this.customerreviewService=i,this.loadingState=!1,this.editImageUrl=null,this.paymentTypeList=[],this.showLoader=!1,this.formErrors={name:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id"),this.editObject()),this.addForm=r.group({payment_type:[1],name:[null,a.p.compose([a.p.required])],email:[null,a.p.compose([a.p.required,a.p.email])],subject:[null,a.p.compose([a.p.required])],quality_rate:[2,a.p.compose([a.p.required])],price_rate:[3,a.p.compose([a.p.required])],value_rate:[4,a.p.compose([a.p.required])],massage:[""]})}ngOnInit(){}editObject(){this.loadingState=!0,this.customerreviewService.getCustomerReviewById(this.editId).subscribe(e=>{this.loadingState=!1,e.data&&(this.editImageUrl=e.data.image,this.addForm.patchValue({payment_type:e.data.payment_type,name:e.data.name,email:e.data.email,subject:e.data.subject,quality_rate:e.data.quality_rate,price_rate:e.data.price_rate,massage:e.data.massage}))},e=>{this.loadingState=!1,this.router.navigateByUrl("/customer-review")})}fileChangeEvent(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0]}removeFile(){this.selectedFile=null}submitForm(e){this.addForm.valid&&(this.showLoader=!0,this.isEditing?this.customerreviewService.editCustomerReview(this.editId,e.value).subscribe(e=>{this.showLoader=!1,e.success?this.router.navigateByUrl("/customer-review"):(this.showLoader=!1,e.error.map(e=>{e.hasOwnProperty("name")&&(this.formErrors.name=e.name)}))}):this.customerreviewService.addCustomerReview(e.value).subscribe(e=>{this.showLoader=!1,e.success?this.router.navigateByUrl("/customer-review"):(this.showLoader=!1,e.error.map(e=>{e.hasOwnProperty("name")&&(this.formErrors.name=e.name)}))}))}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(o.e),c.Jb(o.a),c.Jb(a.c),c.Jb(b.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-customer-review-add"]],decls:45,vars:13,consts:[[3,"show"],[1,"content"],[1,"page-header"],[1,"d-flex","align-items-center"],[1,"mr-auto","p-3"],[1,"page-content","container-fluid"],["class","lorder-wrap",4,"ngIf"],[1,"card","card-tabs","strache-card"],["role","form",3,"formGroup","ngSubmit"],[1,"card-body","p-25","p-l-30","p-r-30"],[1,"d-flex"],[1,"row","flex"],[1,"col-xl-12","mr-2","ml-2"],[1,"form-row"],[1,"col-sm-6","p-2"],[1,"form-group"],[1,"control-label"],["type","text",1,"form-control",3,"formControl"],[1,"col-sm-12"],["placeholder","address","rows","3",1,"form-control",3,"formControl"],[1,"card-footer","text-right"],[1,"btn-list"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"routerLink"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-outline-success","btn-rounded",3,"disabled"],["class","fas fa-check",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"lorder-wrap"],[1,"loader"],[1,"fas","fa-check"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,t){1&e&&(c.Kb(0,"loder",0),c.Pb(1,"div",1),c.Pb(2,"header",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"h1"),c.vc(6),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"section",5),c.tc(8,p,2,0,"div",6),c.Pb(9,"div",7),c.Pb(10,"form",8),c.Xb("ngSubmit",(function(){return t.submitForm(t.addForm)})),c.Pb(11,"div",9),c.Pb(12,"div",10),c.Pb(13,"div",11),c.Pb(14,"div",12),c.Pb(15,"div",13),c.Pb(16,"div",14),c.Pb(17,"div",15),c.Pb(18,"label",16),c.vc(19," Name"),c.Ob(),c.Kb(20,"input",17),c.Ob(),c.Ob(),c.Pb(21,"div",14),c.Pb(22,"div",15),c.Pb(23,"label",16),c.vc(24,"Email "),c.Ob(),c.Kb(25,"input",17),c.Ob(),c.Ob(),c.Pb(26,"div",14),c.Pb(27,"div",15),c.Pb(28,"label",16),c.vc(29,"subject "),c.Ob(),c.Kb(30,"input",17),c.Ob(),c.Ob(),c.Ob(),c.Pb(31,"div",13),c.Pb(32,"div",18),c.Pb(33,"label",16),c.vc(34,"Massage"),c.Ob(),c.Kb(35,"textarea",19),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(36,"div",20),c.Pb(37,"div",21),c.Pb(38,"button",22),c.Kb(39,"i",23),c.vc(40," Cancel"),c.Ob(),c.Pb(41,"button",24),c.tc(42,h,1,0,"i",25),c.tc(43,f,1,0,"i",26),c.vc(44," Success"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.ec("show",t.loadingState),c.zb(6),c.xc("",t.isEditing?"Update":"Create"," customer Review"),c.zb(2),c.ec("ngIf",t.loadingState),c.zb(2),c.ec("formGroup",t.addForm),c.zb(10),c.ec("formControl",t.addForm.controls.name),c.zb(5),c.ec("formControl",t.addForm.controls.email),c.zb(5),c.ec("formControl",t.addForm.controls.subject),c.zb(5),c.ec("formControl",t.addForm.controls.massage),c.zb(3),c.ec("routerLink",c.gc(12,v)),c.zb(3),c.ec("disabled",t.showLoader),c.zb(1),c.ec("ngIf",!t.showLoader),c.zb(1),c.ec("ngIf",t.showLoader))},directives:[l.a,i.k,a.r,a.j,u.a,a.e,a.b,a.i,a.d,m.a,o.f],encapsulation:2}),e})();var w=r("ZOsW");const O=[{path:"",component:g}];let P=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[i.b,a.f,a.n,o.i.forChild(O),s.a,d.a,n.a,w.b]]}),e})()}}]);