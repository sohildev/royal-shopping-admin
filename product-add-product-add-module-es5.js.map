{"version":3,"sources":["webpack:///src/app/product/product-add/product-add.component.html","webpack:///src/app/product/product-add/product-add.component.ts","webpack:///src/app/product/product-add/product-add.module.ts"],"names":["ProductAddComponent","router","activatedRoute","fb","location","dropdownService","productService","loadingState","editImageUrl","showLoader","formErrors","name","apierror","isEditing","editId","brandList","categoryList","doc","type","content","attrs","level","text","marks","href","title","snapshot","paramMap","get","editObject","addForm","group","compose","required","product_info","product_detail","price","category_id","brand_id","getCategoryList","getCategoryDrp","subscribe","res","success","data","front","params","value","patchValue","getBrandDrp","getProductById","response","image","JSON","parse","getBrandList","error","back","fileInput","reg","target","files","match","swal","fire","removeFile","selectedFile","formdata","console","log","valid","formData","FormData","append","stringify","editProduct","map","obj","hasOwnProperty","addProduct","selector","template","routes","path","component","ProductAddModule","declarations","imports","forChild"],"mappings":"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","file":"product-add-product-add-module-es5.js","sourcesContent":["export default \"<loder [show]=\\\"loadingState\\\"></loder>\\r\\n<div class=\\\"content\\\">\\r\\n    <header class=\\\"page-header\\\">\\r\\n        <div class=\\\"d-flex align-items-center\\\">\\r\\n            <div class=\\\"mr-auto p-3\\\">\\r\\n                <h1>{{ isEditing ? 'Update' : 'Create' }} Product</h1>\\r\\n            </div>\\r\\n        </div>\\r\\n    </header>\\r\\n    <section class=\\\"page-content container-fluid\\\">\\r\\n        <div class=\\\"lorder-wrap\\\" *ngIf=\\\"loadingState\\\">\\r\\n            <div class=\\\"loader\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"card card-tabs strache-card\\\">\\r\\n            <form [formGroup]=\\\"addForm\\\" (ngSubmit)=\\\"submitForm(addForm)\\\" role=\\\"form\\\">\\r\\n                <div class=\\\"card-body p-25 p-l-30 p-r-30\\\">\\r\\n                    <div class=\\\"d-flex\\\">\\r\\n                        <div class=\\\"left-form-content m-l-20 m-r-40\\\">\\r\\n                            <div class=\\\"clearfix\\\">\\r\\n                                <div class=\\\"fileinput text-center fileinput-new\\\" data-provides=\\\"fileinput\\\">\\r\\n                                    <div class=\\\"btn-file mt-3\\\">\\r\\n                                        <div class=\\\"thumbnail fileinput-new  rounded-circle\\\"\\r\\n                                            style=\\\"width: 150px; height: 150px;\\\">\\r\\n                                            <img [src]=\\\"editImageUrl ? editImageUrl : 'assets/images/demo.png'\\\" alt=\\\"\\\">\\r\\n                                        </div>\\r\\n                                        <div class=\\\"clearfix\\\"></div>\\r\\n                                        <button class=\\\"fileinput-new btn btn-secondary btn-sm btn-file mt-3\\\"> Browse\\r\\n                                            Image </button>\\r\\n                                        <input accept=\\\"image/x-png,image/jpeg\\\" (change)=\\\"fileChangeEvent($event)\\\"\\r\\n                                            type=\\\"file\\\" file-model=\\\"myFile\\\">\\r\\n                                        <div class=\\\"fileinput-preview fileinput-exists thumbnail  rounded-circle\\\"\\r\\n                                            style=\\\"width: 150px; height: 150px;\\\"></div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"text-center\\\">\\r\\n                                        <a (click)=\\\"removeFile()\\\" class=\\\"btn btn-link btn-sm fileinput-exists mt-3\\\"\\r\\n                                            data-dismiss=\\\"fileinput\\\">Remove</a>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"clearfix mt-3\\\">\\r\\n                                        <p class=\\\"upload-img-label text-muted font-size-12\\\">*Recommended Size:\\r\\n                                            <br>Minimum 250 * 250</p>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\\r\\n                        <div class=\\\"row flex\\\">\\r\\n                            <div class=\\\"col-xl-12 \\\" style=\\\"margin-left:25px ;\\\">\\r\\n                                <div class=\\\"form-row mr-5\\\">\\r\\n                                    <div class=\\\"col-sm-6\\\">\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"control-label\\\">Name</label>\\r\\n                                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                                [formControl]=\\\"addForm.controls['name']\\\">\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\\r\\n\\r\\n                                    <div class=\\\"col-sm-6\\\">\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"control-label\\\">Price</label>\\r\\n                                            <input number type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                                [formControl]=\\\"addForm.controls['price']\\\">\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n\\r\\n                                <div class=\\\"form-row mr-5\\\">\\r\\n                                    <div class=\\\"col-sm-12\\\">\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"control-label\\\">Category</label>\\r\\n                                            <ng-select [formControl]=\\\"addForm.controls['category_id']\\\"\\r\\n                                                [items]=\\\"categoryList\\\" bindLabel=\\\"label\\\" bindValue=\\\"value\\\"\\r\\n                                                (change)=\\\"getBrandList(true)\\\" placeholder=\\\"-- Select a Category --\\\">\\r\\n                                            </ng-select>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-sm-12\\\">\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"control-label\\\">Brand</label>\\r\\n                                            <ng-select [formControl]=\\\"addForm.controls['brand_id']\\\" [items]=\\\"brandList\\\"\\r\\n                                                bindLabel=\\\"label\\\" bindValue=\\\"value\\\" placeholder=\\\"-- Select a Brand --\\\">\\r\\n                                            </ng-select>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\\r\\n                                    <div class=\\\"col-sm-12\\\">\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"control-label\\\">Product Information</label>\\r\\n                                            <div class=\\\"input-group\\\">\\r\\n                                                <textarea class=\\\"form-control\\\"\\r\\n                                                    [formControl]=\\\"addForm.controls['product_info']\\\"\\r\\n                                                    rows=\\\"3\\\"></textarea>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"col-sm-12\\\">\\r\\n                                        <label class=\\\"control-label\\\">Product Details</label>\\r\\n                                        <ngx-editor [formControl]=\\\"addForm.controls['product_detail']\\\">\\r\\n                                        </ngx-editor>\\r\\n                                    </div>\\r\\n\\r\\n                                </div>\\r\\n\\r\\n\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"card-footer text-right\\\">\\r\\n                    <div class=\\\"btn-list\\\">\\r\\n                        <button type=\\\"button\\\" [routerLink]=\\\"['/product']\\\"\\r\\n                            class=\\\"btn btn-outline-secondary  btn-rounded\\\"><i class=\\\"fas fa-times\\\"></i> Cancel</button>\\r\\n                        <button type=\\\"submit\\\" [disabled]=\\\"showLoader\\\" class=\\\"btn btn-outline-success btn-rounded\\\">\\r\\n                            <i *ngIf=\\\"!showLoader\\\" class=\\\"fas fa-check\\\"></i>\\r\\n                            <i *ngIf=\\\"showLoader\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n                            Success</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n            <!-- <div class=\\\"col-sm-12\\\">\\r\\n\\r\\n                <label class=\\\"control-label\\\">Product Details</label>\\r\\n                <ngx-editor [ngModel]=\\\"doc\\\"></ngx-editor>\\r\\n            </div> -->\\r\\n        </div>\\r\\n    </section>\\r\\n</div>\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { ProductService } from 'src/app/service/product.service';\r\nimport { DropDownService } from 'src/app/service/drop-down.service';\r\nimport { Location } from '@angular/common';\r\ndeclare var swal: any;\r\n\r\n@Component({\r\n  selector: 'app-product-add',\r\n  templateUrl: './product-add.component.html'\r\n})\r\nexport class ProductAddComponent implements OnInit {\r\n\r\n  loadingState = false;\r\n  addForm: FormGroup;\r\n  selectedFile: File;\r\n  editImageUrl: any = null;\r\n  showLoader = false;\r\n  formErrors = {\r\n    name: null,\r\n    apierror: null\r\n  };\r\n  isEditing = false;\r\n  editId = null;\r\n  brandList: Array<any> = [];\r\n  categoryList: Array<any> = [];\r\n  doc = {\r\n    type: \"doc\",\r\n    content: [\r\n      {\r\n        type: \"heading\",\r\n        attrs: {\r\n          level: 3\r\n        },\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text: \"Hello\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: \"paragraph\",\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text: \"This is editable text. You can focus it and start typing.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: \"heading\",\r\n        attrs: {\r\n          level: 3\r\n        },\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text: \"The code block is a code editor\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: \"paragraph\",\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text:\r\n              \"This editor has been wired up to render code blocks as instances of the \"\r\n          },\r\n          {\r\n            type: \"text\",\r\n            marks: [\r\n              {\r\n                type: \"link\",\r\n                attrs: {\r\n                  href: \"http://codemirror.net\",\r\n                  title: null\r\n                }\r\n              }\r\n            ],\r\n            text: \"CodeMirror\"\r\n          },\r\n          {\r\n            type: \"text\",\r\n            text:\r\n              \" code editor, which provides syntax highlighting, auto-indentation, and similar.\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: \"code_block\",\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text: \"function max(a, b) {\\n  return a > b ? a : b\\n}\"\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        type: \"paragraph\",\r\n        content: [\r\n          {\r\n            type: \"text\",\r\n            text:\r\n              \"The content of the code editor is kept in sync with the content of the code block in the rich text editor, so that it is as if you're directly editing the outer document, using a more convenient interface.\"\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  };\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private fb: FormBuilder,\r\n    private location: Location,\r\n    private dropdownService: DropDownService,\r\n    private productService: ProductService\r\n  ) {\r\n    if (this.activatedRoute.snapshot.paramMap.get('id')) {\r\n      this.isEditing = true;\r\n      this.editId = this.activatedRoute.snapshot.paramMap.get('id');\r\n      this.editObject();\r\n    }\r\n    this.addForm = fb.group({\r\n      name: [null, Validators.compose([Validators.required])],\r\n      product_info: [null],\r\n      product_detail: [this.doc],\r\n      price: [null, Validators.compose([Validators.required])],\r\n      category_id: [null, Validators.compose([Validators.required])],\r\n      brand_id: [null, Validators.compose([Validators.required])],\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getCategoryList();\r\n  }\r\n  getCategoryList() {\r\n    this.loadingState = true;\r\n    this.dropdownService.getCategoryDrp().subscribe((res) => {\r\n      this.loadingState = false;\r\n      if (res.success) {\r\n        this.categoryList = res.data ? res.data : [];\r\n      }\r\n    });\r\n  }\r\n\r\n  getBrandList(front) {\r\n    this.loadingState = true;\r\n    const params: any = {};\r\n    if (this.addForm.value.category_id) {\r\n      if (front) { this.addForm.patchValue({ brand_id: '' }); }\r\n      params.category_id = this.addForm.value.category_id;\r\n    }\r\n    this.dropdownService.getBrandDrp(params).subscribe((res) => {\r\n      this.loadingState = false;\r\n      if (res.success) {\r\n        this.brandList = res.data ? res.data : [];\r\n      }\r\n    });\r\n  }\r\n\r\n  editObject() {\r\n    this.loadingState = true;\r\n    this.productService.getProductById(this.editId).subscribe((response) => {\r\n      this.loadingState = false;\r\n      if (response.data) {\r\n        this.editImageUrl = response.data.image,\r\n          this.addForm.patchValue({\r\n            name: response.data.name,\r\n            price: response.data.price,\r\n            category_id: JSON.parse(response.data.category_id).value,\r\n            brand_id: JSON.parse(response.data.brand_id).value,\r\n            product_info: response.data.product_info,\r\n            product_detail: response.data.product_detail ? JSON.parse(response.data.product_detail) : ''\r\n          });\r\n        this.getBrandList(false);\r\n      }\r\n    }, (error) => {\r\n      this.loadingState = false;\r\n      // this.router.navigateByUrl('/product');\r\n      this.back();\r\n    });\r\n  }\r\n\r\n  fileChangeEvent(fileInput: any) {\r\n    const reg = /(.*?)\\.(jpg|jpeg|png|gif|giff)$/;\r\n    if (!fileInput.target.files[0].name.match(reg)) {\r\n      swal.fire(\r\n        'Invalid File!',\r\n        'Please select valid file ',\r\n        'error'\r\n      );\r\n      this.removeFile();\r\n      return false;\r\n    } else {\r\n      this.removeFile();\r\n      this.selectedFile = fileInput.target.files[0];\r\n    }\r\n  }\r\n\r\n  removeFile() {\r\n    this.selectedFile = null;\r\n  }\r\n\r\n  submitForm(formdata): void {\r\n    console.log(formdata.value.product_detail);\r\n    console.log(\"formData\", formdata.value);\r\n\r\n    if (this.addForm.valid) {\r\n      this.showLoader = true;\r\n      const formData = new FormData();\r\n      formData.append('name', formdata.value.name);\r\n      formData.append('price', formdata.value.price);\r\n      formData.append('category_id', formdata.value.category_id);\r\n      formData.append('brand_id', formdata.value.brand_id);\r\n      formData.append('product_detail', JSON.stringify(formdata.value.product_detail));\r\n      formData.append('product_info', formdata.value.product_info);\r\n      if (this.selectedFile) {\r\n        formData.append('file', this.selectedFile);\r\n      }\r\n      console.log(\"formData\", formData);\r\n\r\n      if (this.isEditing) {\r\n        this.productService.editProduct(this.editId, formData).subscribe((response) => {\r\n          this.showLoader = false;\r\n          if (response.success) {\r\n            // this.router.navigateByUrl('/product');\r\n            this.back();\r\n          } else {\r\n            this.showLoader = false;\r\n            response.error.map(obj => {\r\n\r\n              if (obj.hasOwnProperty('name')) {\r\n                this.formErrors.name = obj.name;\r\n              }\r\n\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        this.productService.addProduct(formData).subscribe((response) => {\r\n          this.showLoader = false;\r\n          if (response.success) {\r\n            // this.router.navigateByUrl('/product');\r\n            this.back();\r\n          } else {\r\n            this.showLoader = false;\r\n            response.error.map(obj => {\r\n\r\n              if (obj.hasOwnProperty('name')) {\r\n                this.formErrors.name = obj.name;\r\n              }\r\n\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  back() {\r\n    this.location.back();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { FormValidationModule } from 'src/app/shared/form-validation/form-validation.module';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { ProductAddComponent } from './product-add.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { LoderModule } from 'src/app/common/loder/loder.module';\r\nimport { NgxEditorModule } from 'ngx-editor';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductAddComponent,\r\n    // data: { title: 'add_company' }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductAddComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgSelectModule,\r\n    ReactiveFormsModule,\r\n    RouterModule.forChild(routes),\r\n    FormValidationModule,\r\n    SharedModule,\r\n    LoderModule,\r\n    NgxEditorModule\r\n  ]\r\n})\r\n\r\nexport class ProductAddModule { }\r\n"]}