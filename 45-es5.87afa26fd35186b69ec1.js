function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{Vxom:function(t,e,i){"use strict";i.r(e),i.d(e,"SubscribeListModule",(function(){return C}));var r,n=i("ofXK"),o=i("tyNb"),c=i("zzOR"),b=i("3Pt+"),a=i("Lw2Y"),s=i("fXoL"),u=i("c8VH"),d=i("AytR"),l=i("tk/3"),f=((r=function(){function t(e){_classCallCheck(this,t),this.http=e,this.API_URL=d.a.APIEndpoint}return _createClass(t,[{key:"getSubscribeList",value:function(t){return this.http.get(this.API_URL+"/subscribe",{params:t})}},{key:"addSubscribe",value:function(t){return this.http.post(this.API_URL+"/subscribe",t)}},{key:"editSubscribe",value:function(t,e){return this.http.put("".concat(this.API_URL,"/subscribe/").concat(t),e)}},{key:"deleteSubscribe",value:function(t){return this.http.delete("".concat(this.API_URL,"/subscribe/").concat(t))}},{key:"getSubscribeById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.http.get("".concat(this.API_URL,"/subscribe/").concat(t),{params:e})}}]),t}()).\u0275fac=function(t){return new(t||r)(s.Tb(l.b))},r.\u0275prov=s.Fb({token:r,factory:r.\u0275fac}),r),h=i("AwSQ"),m=i("Chay"),p=i("33RK");function g(t,e){1&t&&s.Kb(0,"i",34)}function v(t,e){1&t&&s.Kb(0,"i",35)}function P(t,e){if(1&t){var i=s.Qb();s.Pb(0,"tr"),s.Pb(1,"td",24),s.Pb(2,"form",25),s.Xb("ngSubmit",(function(){return s.nc(i),s.Zb().submitForm()})),s.Pb(3,"div",26),s.Pb(4,"div",27),s.Kb(5,"input",28),s.Ob(),s.Pb(6,"div"),s.Pb(7,"button",29),s.tc(8,g,1,0,"i",30),s.tc(9,v,1,0,"i",31),s.Ob(),s.Pb(10,"button",32),s.Xb("click",(function(){return s.nc(i),s.Zb().resetForm()})),s.Kb(11,"i",33),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()}if(2&t){var r=s.Zb();s.zb(2),s.ec("formGroup",r.addForm),s.zb(3),s.ec("formControl",r.addForm.controls.email),s.zb(2),s.ec("disabled",r.showLoader),s.zb(1),s.ec("ngIf",!r.showLoader),s.zb(1),s.ec("ngIf",r.showLoader)}}function O(t,e){if(1&t){var i=s.Qb();s.Nb(0),s.Pb(1,"td"),s.vc(2),s.Ob(),s.Pb(3,"td",20),s.Pb(4,"div",36),s.Pb(5,"button",37),s.Kb(6,"i",38),s.Ob(),s.Pb(7,"div",39),s.Pb(8,"a",40),s.Xb("click",(function(){s.nc(i);var t=s.Zb(),e=t.$implicit,r=t.index;return s.Zb().editObject(e,r)})),s.Kb(9,"i",41),s.vc(10," Edit"),s.Ob(),s.Pb(11,"a",40),s.Xb("click",(function(){s.nc(i);var t=s.Zb().$implicit;return s.Zb().deleteObject(t)})),s.Kb(12,"i",42),s.vc(13," Delete"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Mb()}if(2&t){var r=s.Zb().$implicit;s.zb(2),s.wc(null==r?null:r.email)}}function w(t,e){1&t&&s.Kb(0,"i",34)}function y(t,e){1&t&&s.Kb(0,"i",35)}function k(t,e){if(1&t){var i=s.Qb();s.Nb(0),s.Pb(1,"td",24),s.Pb(2,"form",25),s.Xb("ngSubmit",(function(){return s.nc(i),s.Zb(2).submitForm()})),s.Pb(3,"div",26),s.Pb(4,"div",27),s.Kb(5,"input",28),s.Ob(),s.Pb(6,"div"),s.Pb(7,"button",29),s.tc(8,w,1,0,"i",30),s.tc(9,y,1,0,"i",31),s.Ob(),s.Pb(10,"button",32),s.Xb("click",(function(){return s.nc(i),s.Zb(2).resetForm()})),s.Kb(11,"i",33),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Mb()}if(2&t){var r=s.Zb(2);s.zb(2),s.ec("formGroup",r.addForm),s.zb(3),s.ec("formControl",r.addForm.controls.email),s.zb(2),s.ec("disabled",r.showLoader),s.zb(1),s.ec("ngIf",!r.showLoader),s.zb(1),s.ec("ngIf",r.showLoader)}}function F(t,e){if(1&t&&(s.Pb(0,"tr"),s.tc(1,O,14,1,"ng-container",21),s.tc(2,k,12,5,"ng-container",21),s.Ob()),2&t){var i=e.$implicit,r=e.index,n=s.Zb();s.zb(1),s.ec("ngIf",n.editId!=(null==i?null:i.id)),s.zb(1),s.ec("ngIf",n.isEditing&&n.editId==(null==i?null:i.id)&&r==n.editIndex)}}function I(t,e){1&t&&(s.Pb(0,"tr"),s.Pb(1,"td",24),s.vc(2," No records found"),s.Ob(),s.Ob())}var x,L,_=function(){return["/dashboard"]},S=((x=function(){function t(e,i,r,n,o){_classCallCheck(this,t),this.router=e,this.paginationService=i,this.subscribeservice=r,this.dataService=n,this.fBuilder=o,this.loadingState=!0,this.objectArray=[],this.questionArray=[],this.pagination=null,this.searchText=null,this.currentPage=1,this.formErrors={apierror:null},this.showLoader=!1,this.showAddForm=!1,this.isEditing=!1,this.editId=null,this.editIndex=null,this.loadform=!1,this.permissionObject=null,this.addForm=this.fBuilder.group({email:[null,b.p.compose([b.p.required,b.p.email])]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.subscription=this.dataService.searchTextSubject.subscribe((function(e){t.searchText=e,t.getObjects()}))}},{key:"getObjects",value:function(){var t=this,e={page:this.currentPage};this.searchText&&(e.search=this.searchText),this.subscribeservice.getSubscribeList(e).subscribe((function(e){t.loadingState=!1,e.success?(t.objectArray=e.data.data,t.pagination=t.paginationService.getPager(e.data.pagination.total_page,t.currentPage)):(t.objectArray=[],t.pagination=null)}),(function(e){t.loadingState=!1,t.objectArray=[],t.pagination=null}))}},{key:"getPage",value:function(t){this.currentPage=t,this.getObjects()}},{key:"searchObject",value:function(t){this.searchText=t,this.currentPage=1,this.getObjects()}},{key:"deleteObject",value:function(t){var e=this;swal.fire({title:c.a.delete_header_text,text:c.a.delete_smalll_text,icon:c.a.delete_dialogue_type,showCancelButton:!0,confirmButtonText:c.a.delete_confirm_button,cancelButtonText:c.a.delete_cancel_button}).then((function(i){i.value&&e.subscribeservice.deleteSubscribe(t.id).subscribe((function(t){t.success&&e.getObjects()}))})).catch(swal.noop)}},{key:"editObject",value:function(t,e){this.resetForm(),this.editIndex=e,this.isEditing=!0,this.editId=t.id,this.addForm.patchValue({email:t.email})}},{key:"showForm",value:function(){this.resetForm(),this.showAddForm=!0}},{key:"resetForm",value:function(){this.showAddForm=!1,this.isEditing=!1,this.editId=null,a.a.resetForm(this.addForm,this.formErrors)}},{key:"submitForm",value:function(){var t=this;if(this.addForm.valid){this.showLoader=!0;var e={email:this.addForm.value.email};this.isEditing?this.subscribeservice.editSubscribe(this.editId,e).subscribe((function(e){t.showLoader=!1,e.success?(t.getObjects(),t.resetForm()):e.error.map((function(i){i.hasOwnProperty("email")?t.formErrors.email=i.email:t.formErrors.apierror="* "+e.error}))}),(function(e){console.log("In error",e),t.formErrors.apierror="* "+e.error,t.showLoader=!1})):this.subscribeservice.addSubscribe(e).subscribe((function(e){t.showLoader=!1,e.success?(t.resetForm(),t.getObjects()):e.error.map((function(i){i.hasOwnProperty("email")?t.formErrors.email=i.email:t.formErrors.apierror="* "+e.error}))}),(function(e){console.log("In error",e),t.formErrors.apierror="* "+e.error,t.showLoader=!1}))}}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||x)(s.Jb(o.e),s.Jb(u.a),s.Jb(f),s.Jb(h.a),s.Jb(b.c))},x.\u0275cmp=s.Db({type:x,selectors:[["app-subscribe-list"]],decls:35,vars:8,consts:[[3,"show"],[1,"page-breadcrumb"],[1,"row"],[1,"col-7","align-self-center"],[1,"page-title","text-truncate","text-dark","font-weight-medium","mb-1"],[1,"d-flex","align-items-center"],["aria-label","breadcrumb"],[1,"breadcrumb","m-0","p-0"],[1,"breadcrumb-item"],["routerLinkActive","router-link-active",1,"text-muted",3,"routerLink"],["aria-current","page",1,"breadcrumb-item","text-muted","active"],[1,"col-5","align-self-center"],[1,"customize-input","float-right"],["type","button",1,"btn","btn-outline-info","border-0","custom-shadow","custom-radius",3,"click"],[1,"content"],[1,"page-content","container-fluid"],[1,"card","strache-card"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-hover","m-0"],[1,"table-field-actions","text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"paginationList","currentPage","onPageChange"],["colspan","2"],[3,"formGroup","ngSubmit"],[1,"d-flex"],[1,"form-group","mb-0","flex-grow-1","pr-2"],["type","text","placeholder","Enter Email...",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-outline-success","btn-rounded","btn-circle","mr-2",3,"disabled"],["class","fas fa-check",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","btn-rounded","btn-circle","mr-2",3,"click"],[1,"fas","fa-times"],[1,"fas","fa-check"],[1,"fa","fa-spinner","fa-spin"],[1,"action-drop","dropdown"],["role","button","type","button","data-toggle","dropdown",1,"btn","btn-link","text-primary","p-0","px-2","btn-sm","btn-icon-only"],[1,"fa","fa-ellipsis-h"],[1,"dropdown-menu","dropdown-icon-menu","dropdown-menu-right"],[1,"dropdown-item",3,"click"],[1,"fa","fa-edit","fa-fw","text-primary"],[1,"fa","fa-trash","fa-fw","text-primary"]],template:function(t,e){1&t&&(s.Kb(0,"loder",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"div",3),s.Pb(4,"h4",4),s.vc(5,"Subscribe"),s.Ob(),s.Pb(6,"div",5),s.Pb(7,"nav",6),s.Pb(8,"ol",7),s.Pb(9,"li",8),s.Pb(10,"a",9),s.vc(11,"Apps"),s.Ob(),s.Ob(),s.Pb(12,"li",10),s.vc(13,"Subscribe List"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(14,"div",11),s.Pb(15,"div",12),s.Pb(16,"button",13),s.Xb("click",(function(){return e.showForm()})),s.vc(17,"Add Subscribe"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(18,"div",14),s.Pb(19,"section",15),s.Pb(20,"div",16),s.Pb(21,"div",17),s.Pb(22,"div",18),s.Pb(23,"table",19),s.Pb(24,"thead"),s.Pb(25,"tr"),s.Pb(26,"th"),s.vc(27,"Email"),s.Ob(),s.Pb(28,"th",20),s.vc(29,"Action"),s.Ob(),s.Ob(),s.Ob(),s.Pb(30,"tbody"),s.tc(31,P,12,5,"tr",21),s.tc(32,F,3,2,"tr",22),s.tc(33,I,3,0,"tr",21),s.Ob(),s.Ob(),s.Ob(),s.Pb(34,"pagination",23),s.Xb("onPageChange",(function(t){return e.getPage(t)})),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.ec("show",e.loadingState),s.zb(10),s.ec("routerLink",s.gc(7,_)),s.zb(21),s.ec("ngIf",e.showAddForm&&!e.isEditing),s.zb(1),s.ec("ngForOf",e.objectArray),s.zb(1),s.ec("ngIf",0===e.objectArray.length&&!e.showAddForm),s.zb(1),s.ec("paginationList",e.pagination)("currentPage",e.currentPage))},directives:[m.a,o.h,o.g,n.k,n.j,p.a,b.r,b.j,b.e,b.b,b.i,b.d],encapsulation:2}),x),A=i("yCMK"),j=i("8Vnw"),z=[{path:"",component:S}],C=((L=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:L}),L.\u0275inj=s.Gb({factory:function(t){return new(t||L)},providers:[f],imports:[[n.b,A.a,b.n,j.a,o.i.forChild(z)]]}),L)}}]);