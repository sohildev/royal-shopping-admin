function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function _createClass(r,e,s){return e&&_defineProperties(r.prototype,e),s&&_defineProperties(r,s),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{edur:function(r,e,s){"use strict";s.r(e),s.d(e,"ResetPasswordModule",(function(){return g}));var o=s("ofXK"),t=s("3Pt+"),n=s("Lw2Y"),i=s("fXoL"),a=s("LWby"),c=s("tyNb"),l=s("6uu6"),d=s("HOh6"),b=s("UaFz");function u(r,e){if(1&r&&(i.Pb(0,"div",15),i.Pb(1,"a",16),i.vc(2,"\xd7"),i.Ob(),i.Kb(3,"span",17),i.Ob()),2&r){var s=i.Zb();i.zb(3),i.ec("innerHTML",s.formErrors.error,i.oc)}}function f(r,e){if(1&r&&(i.Pb(0,"div",18),i.Pb(1,"a",16),i.vc(2,"\xd7"),i.Ob(),i.Kb(3,"span",17),i.Ob()),2&r){var s=i.Zb();i.zb(3),i.ec("innerHTML",s.formErrors.success,i.oc)}}var p,m,w=function(r){return{"qt-loader qt-loader-mini qt-loader-left":r}},h=((p=function(){function r(e,s,o,i,a){_classCallCheck(this,r),this.config=e,this.router=s,this.activatedRoute=o,this.authService=i,this.fBuilder=a,this.formErrors={error:null,success:null},this.showLoader=!1,this.token=null,this.config.config={showHeader:!1},this.token=this.activatedRoute.snapshot.paramMap.get("token"),this.resetPasswordForm=this.fBuilder.group({password:[null,t.p.compose([t.p.required])],confirm_password:[null,t.p.compose([t.p.required])]},{validator:n.b.passwordValidation()})}return _createClass(r,[{key:"ngOnInit",value:function(){var r=this;this.authService.checkResetPasswordToken(this.token).subscribe((function(e){e.success||r.router.navigateByUrl("/link-expired")}),(function(e){r.router.navigateByUrl("/link-expired")}))}},{key:"submitForm",value:function(){var r=this;this.resetPasswordForm.valid&&(this.showLoader=!0,this.authService.resetPassword(this.token,{password:this.resetPasswordForm.value.password,confirm_password:this.resetPasswordForm.value.confirm_password}).subscribe((function(e){r.showLoader=!1,e.success?(r.formErrors.success="* "+e.message,n.a.resetForm(r.resetPasswordForm),setTimeout((function(){r.router.navigateByUrl("/login")}),3e3)):r.formErrors.error="* "+e.error}),(function(e){r.formErrors.error="* "+e.error,r.showLoader=!1})))}}]),r}()).\u0275fac=function(r){return new(r||p)(i.Jb(a.b),i.Jb(c.e),i.Jb(c.a),i.Jb(l.a),i.Jb(t.c))},p.\u0275cmp=i.Db({type:p,selectors:[["app-reset-password"]],decls:21,vars:9,consts:[[1,"container"],[1,"sign-in-form",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"brand","text-center","d-block","m-b-30","m-t-20"],[1,"sign-in-heading","text-center"],[1,"text-center","m-b-20","text-muted"],["class","alert alert-danger alert-dismissible",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],[1,"form-group"],["for","inputPassword",1,"sr-only"],["type","password","placeholder","New password",1,"form-control","input-lg",3,"formControl"],["for","inputconfirmpassword",1,"sr-only"],["type","password","placeholder","Confirm password",1,"form-control","input-lg",3,"formControl"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","m-top-24",3,"ngClass","disabled"],[1,"alert","alert-danger","alert-dismissible"],["data-dismiss","alert","aria-label","close",1,"close"],[3,"innerHTML"],[1,"alert","alert-success","alert-dismissible"]],template:function(r,e){1&r&&(i.Pb(0,"div",0),i.Pb(1,"form",1),i.Xb("ngSubmit",(function(){return e.submitForm()})),i.Pb(2,"div",2),i.Pb(3,"div",3),i.Kb(4,"div",4),i.Pb(5,"h1",5),i.vc(6,"Forgotten Password?"),i.Ob(),i.Pb(7,"p",6),i.vc(8,"Enter your email address below, and we'll email instructions for setting a new one."),i.Ob(),i.tc(9,u,4,1,"div",7),i.tc(10,f,4,1,"div",8),i.Pb(11,"div",9),i.Pb(12,"label",10),i.vc(13,"New Password"),i.Ob(),i.Kb(14,"input",11),i.Ob(),i.Pb(15,"div",9),i.Pb(16,"label",12),i.vc(17,"Password"),i.Ob(),i.Kb(18,"input",13),i.Ob(),i.Pb(19,"button",14),i.vc(20," Reset Password "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&r&&(i.zb(1),i.ec("formGroup",e.resetPasswordForm),i.zb(8),i.ec("ngIf",e.formErrors.error),i.zb(1),i.ec("ngIf",e.formErrors.success),i.zb(4),i.ec("formControl",e.resetPasswordForm.controls.password),i.zb(4),i.ec("formControl",e.resetPasswordForm.controls.confirm_password),i.zb(1),i.ec("ngClass",i.hc(7,w,e.showLoader))("disabled",e.showLoader))},directives:[t.r,t.j,d.a,t.e,o.k,t.b,t.i,t.d,b.a,o.i],encapsulation:2}),p),v=s("Vr6k"),P=[{path:"",component:h,data:{title:"reset_password"}}],g=((m=function r(){_classCallCheck(this,r)}).\u0275mod=i.Hb({type:m}),m.\u0275inj=i.Gb({factory:function(r){return new(r||m)},providers:[l.a],imports:[[o.b,t.f,t.n,v.a,c.i.forChild(P)]]}),m)}}]);