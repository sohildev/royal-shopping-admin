(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{edur:function(r,s,e){"use strict";e.r(s),e.d(s,"ResetPasswordModule",(function(){return P}));var o=e("ofXK"),t=e("3Pt+"),i=e("Lw2Y"),a=e("fXoL"),n=e("LWby"),c=e("tyNb"),d=e("6uu6"),l=e("HOh6"),b=e("UaFz");function u(r,s){if(1&r&&(a.Pb(0,"div",15),a.Pb(1,"a",16),a.uc(2,"\xd7"),a.Ob(),a.Kb(3,"span",17),a.Ob()),2&r){const r=a.Zb();a.zb(3),a.ec("innerHTML",r.formErrors.error,a.oc)}}function m(r,s){if(1&r&&(a.Pb(0,"div",18),a.Pb(1,"a",16),a.uc(2,"\xd7"),a.Ob(),a.Kb(3,"span",17),a.Ob()),2&r){const r=a.Zb();a.zb(3),a.ec("innerHTML",r.formErrors.success,a.oc)}}const p=function(r){return{"qt-loader qt-loader-mini qt-loader-left":r}};let f=(()=>{class r{constructor(r,s,e,o,a){this.config=r,this.router=s,this.activatedRoute=e,this.authService=o,this.fBuilder=a,this.formErrors={error:null,success:null},this.showLoader=!1,this.token=null,this.config.config={showHeader:!1},this.token=this.activatedRoute.snapshot.paramMap.get("token"),this.resetPasswordForm=this.fBuilder.group({password:[null,t.p.compose([t.p.required])],confirm_password:[null,t.p.compose([t.p.required])]},{validator:i.b.passwordValidation()})}ngOnInit(){this.authService.checkResetPasswordToken(this.token).subscribe(r=>{r.success||this.router.navigateByUrl("/link-expired")},r=>{this.router.navigateByUrl("/link-expired")})}submitForm(){this.resetPasswordForm.valid&&(this.showLoader=!0,this.authService.resetPassword(this.token,{password:this.resetPasswordForm.value.password,confirm_password:this.resetPasswordForm.value.confirm_password}).subscribe(r=>{this.showLoader=!1,r.success?(this.formErrors.success="* "+r.message,i.a.resetForm(this.resetPasswordForm),setTimeout(()=>{this.router.navigateByUrl("/login")},3e3)):this.formErrors.error="* "+r.error},r=>{this.formErrors.error="* "+r.error,this.showLoader=!1}))}}return r.\u0275fac=function(s){return new(s||r)(a.Jb(n.b),a.Jb(c.e),a.Jb(c.a),a.Jb(d.a),a.Jb(t.c))},r.\u0275cmp=a.Db({type:r,selectors:[["app-reset-password"]],decls:21,vars:9,consts:[[1,"container"],[1,"sign-in-form",3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"brand","text-center","d-block","m-b-30","m-t-20"],[1,"sign-in-heading","text-center"],[1,"text-center","m-b-20","text-muted"],["class","alert alert-danger alert-dismissible",4,"ngIf"],["class","alert alert-success alert-dismissible",4,"ngIf"],[1,"form-group"],["for","inputPassword",1,"sr-only"],["type","password","placeholder","New password",1,"form-control","input-lg",3,"formControl"],["for","inputconfirmpassword",1,"sr-only"],["type","password","placeholder","Confirm password",1,"form-control","input-lg",3,"formControl"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","m-top-24",3,"ngClass","disabled"],[1,"alert","alert-danger","alert-dismissible"],["data-dismiss","alert","aria-label","close",1,"close"],[3,"innerHTML"],[1,"alert","alert-success","alert-dismissible"]],template:function(r,s){1&r&&(a.Pb(0,"div",0),a.Pb(1,"form",1),a.Xb("ngSubmit",(function(){return s.submitForm()})),a.Pb(2,"div",2),a.Pb(3,"div",3),a.Kb(4,"div",4),a.Pb(5,"h1",5),a.uc(6,"Forgotten Password?"),a.Ob(),a.Pb(7,"p",6),a.uc(8,"Enter your email address below, and we'll email instructions for setting a new one."),a.Ob(),a.sc(9,u,4,1,"div",7),a.sc(10,m,4,1,"div",8),a.Pb(11,"div",9),a.Pb(12,"label",10),a.uc(13,"New Password"),a.Ob(),a.Kb(14,"input",11),a.Ob(),a.Pb(15,"div",9),a.Pb(16,"label",12),a.uc(17,"Password"),a.Ob(),a.Kb(18,"input",13),a.Ob(),a.Pb(19,"button",14),a.uc(20," Reset Password "),a.Ob(),a.Ob(),a.Ob(),a.Ob(),a.Ob()),2&r&&(a.zb(1),a.ec("formGroup",s.resetPasswordForm),a.zb(8),a.ec("ngIf",s.formErrors.error),a.zb(1),a.ec("ngIf",s.formErrors.success),a.zb(4),a.ec("formControl",s.resetPasswordForm.controls.password),a.zb(4),a.ec("formControl",s.resetPasswordForm.controls.confirm_password),a.zb(1),a.ec("ngClass",a.hc(7,p,s.showLoader))("disabled",s.showLoader))},directives:[t.r,t.j,l.a,t.e,o.k,t.b,t.i,t.d,b.a,o.i],encapsulation:2}),r})();var w=e("Vr6k");const h=[{path:"",component:f,data:{title:"reset_password"}}];let P=(()=>{class r{}return r.\u0275mod=a.Hb({type:r}),r.\u0275inj=a.Gb({factory:function(s){return new(s||r)},providers:[d.a],imports:[[o.b,t.f,t.n,w.a,c.i.forChild(h)]]}),r})()}}]);