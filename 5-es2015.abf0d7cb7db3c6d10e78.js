(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+Rk4":function(e,t,i){"use strict";i.r(t),i.d(t,"BannerAddModule",(function(){return w}));var r=i("ofXK"),n=i("3Pt+"),a=i("tyNb"),o=i("fXoL"),b=i("l8lE"),s=i("Chay"),d=i("HOh6"),l=i("UaFz");function c(e,t){1&e&&(o.Pb(0,"div",44),o.Kb(1,"div",45),o.Ob())}function u(e,t){1&e&&o.Kb(0,"i",46)}function f(e,t){1&e&&o.Kb(0,"i",47)}const p=function(){return["/banner"]};let m=(()=>{class e{constructor(e,t,i,r){this.router=e,this.activatedRoute=t,this.fb=i,this.bannerservice=r,this.loadingState=!1,this.editImageUrl=null,this.showLoader=!1,this.formErrors={title:null,apierror:null},this.isEditing=!1,this.editId=null,this.activatedRoute.snapshot.paramMap.get("id")&&(this.isEditing=!0,this.editId=this.activatedRoute.snapshot.paramMap.get("id"),this.editObject()),this.addForm=i.group({title:[null,n.p.compose([n.p.required])],url:[null,n.p.compose([n.p.required])],info:[""],is_active:[!0,n.p.compose([n.p.required])]})}ngOnInit(){}editObject(){this.loadingState=!0,this.bannerservice.getBannerById(this.editId).subscribe(e=>{this.loadingState=!1,e.data&&(this.editImageUrl=e.data.image,this.addForm.patchValue({title:e.data.title,info:e.data.info,is_active:e.data.is_active,url:e.data.url}))},e=>{this.loadingState=!1,this.router.navigateByUrl("banner")})}fileChangeEvent(e){if(!e.target.files[0].name.match(/(.*?)\.(jpg|jpeg|png|gif|giff)$/))return swal.fire("Invalid File!","Please select valid file ","error"),this.removeFile(),!1;this.removeFile(),this.selectedFile=e.target.files[0]}removeFile(){this.selectedFile=null}submitForm(e){if(this.addForm.valid){this.showLoader=!0;const t=new FormData;t.append("url",e.value.url),t.append("title",e.value.title),t.append("info",e.value.info),t.append("is_active",e.value.is_active),this.selectedFile&&t.append("file",this.selectedFile),this.isEditing?this.bannerservice.editBanner(this.editId,t).subscribe(e=>{this.showLoader=!1,e.success?this.router.navigateByUrl("banner"):(this.showLoader=!1,e.error.map(e=>{e.hasOwnProperty("title")&&(this.formErrors.title=e.title)}))}):this.bannerservice.addBanner(t).subscribe(e=>{this.showLoader=!1,e.success?this.router.navigateByUrl("banner"):(this.showLoader=!1,e.error.map(e=>{e.hasOwnProperty("title")&&(this.formErrors.title=e.title)}))})}}}return e.\u0275fac=function(t){return new(t||e)(o.Jb(a.e),o.Jb(a.a),o.Jb(n.c),o.Jb(b.a))},e.\u0275cmp=o.Db({type:e,selectors:[["app-banner-add"]],decls:68,vars:14,consts:[[3,"show"],[1,"content"],[1,"page-header"],[1,"d-flex","align-items-center"],[1,"mr-auto","p-3"],[1,"page-content","container-fluid"],["class","lorder-wrap",4,"ngIf"],[1,"card","card-tabs","strache-card"],["role","form",3,"formGroup","ngSubmit"],[1,"card-body","p-25","p-l-30","p-r-30"],[1,"d-flex"],[1,"left-form-content","m-l-20","m-r-40"],[1,"clearfix"],["data-provides","fileinput",1,"fileinput","text-center","fileinput-new"],[1,"btn-file","mt-3"],[1,"thumbnail","fileinput-new","rounded-circle",2,"width","150px","height","150px"],["alt","",3,"src"],[1,"fileinput-new","btn","btn-secondary","btn-sm","btn-file","mt-3"],["accept","image/x-png,image/jpeg","type","file","file-model","myFile",3,"change"],[1,"fileinput-preview","fileinput-exists","thumbnail","rounded-circle",2,"width","150px","height","150px"],[1,"text-center"],["data-dismiss","fileinput",1,"btn","btn-link","btn-sm","fileinput-exists","mt-3",3,"click"],[1,"clearfix","mt-3"],[1,"upload-img-label","text-muted","font-size-12"],[1,"row","flex"],[1,"col-xl-12",2,"margin-left","25px"],[1,"form-row"],[1,"col-sm-6"],[1,"form-group"],[1,"control-label"],["type","text",1,"form-control",3,"formControl"],[1,"col-sm-12"],[1,"switch"],["type","checkbox",3,"formControl"],[1,"slider","round"],[1,"input-group"],["rows","3",1,"form-control",3,"formControl"],[1,"card-footer","text-right"],[1,"btn-list"],["type","button",1,"btn","btn-outline-secondary","btn-rounded",3,"routerLink"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-outline-success","btn-rounded",3,"disabled"],["class","fas fa-check",4,"ngIf"],["class","fa fa-spinner fa-spin",4,"ngIf"],[1,"lorder-wrap"],[1,"loader"],[1,"fas","fa-check"],[1,"fa","fa-spinner","fa-spin"]],template:function(e,t){1&e&&(o.Kb(0,"loder",0),o.Pb(1,"div",1),o.Pb(2,"header",2),o.Pb(3,"div",3),o.Pb(4,"div",4),o.Pb(5,"h1"),o.vc(6),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(7,"section",5),o.tc(8,c,2,0,"div",6),o.Pb(9,"div",7),o.Pb(10,"form",8),o.Xb("ngSubmit",(function(){return t.submitForm(t.addForm)})),o.Pb(11,"div",9),o.Pb(12,"div",10),o.Pb(13,"div",11),o.Pb(14,"div",12),o.Pb(15,"div",13),o.Pb(16,"div",14),o.Pb(17,"div",15),o.Kb(18,"img",16),o.Ob(),o.Kb(19,"div",12),o.Pb(20,"button",17),o.vc(21," Browse Image "),o.Ob(),o.Pb(22,"input",18),o.Xb("change",(function(e){return t.fileChangeEvent(e)})),o.Ob(),o.Kb(23,"div",19),o.Ob(),o.Pb(24,"div",20),o.Pb(25,"a",21),o.Xb("click",(function(){return t.removeFile()})),o.vc(26,"Remove"),o.Ob(),o.Ob(),o.Pb(27,"div",22),o.Pb(28,"p",23),o.vc(29,"*Recommended Size:"),o.Kb(30,"br"),o.vc(31,"Minimum 250 * 250"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(32,"div",24),o.Pb(33,"div",25),o.Pb(34,"div",26),o.Pb(35,"div",27),o.Pb(36,"div",28),o.Pb(37,"label",29),o.vc(38,"Title"),o.Ob(),o.Kb(39,"input",30),o.Ob(),o.Ob(),o.Pb(40,"div",27),o.Pb(41,"div",28),o.Pb(42,"label",29),o.vc(43,"Website"),o.Ob(),o.Kb(44,"input",30),o.Ob(),o.Ob(),o.Ob(),o.Pb(45,"div",26),o.Pb(46,"div",31),o.Pb(47,"div",28),o.Pb(48,"label",29),o.vc(49," Is Active \xa0\xa0"),o.Ob(),o.Pb(50,"label",32),o.Kb(51,"input",33),o.Kb(52,"span",34),o.Ob(),o.Ob(),o.Ob(),o.Pb(53,"div",31),o.Pb(54,"div",28),o.Pb(55,"label",29),o.vc(56,"Banner Information"),o.Ob(),o.Pb(57,"div",35),o.Kb(58,"textarea",36),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(59,"div",37),o.Pb(60,"div",38),o.Pb(61,"button",39),o.Kb(62,"i",40),o.vc(63," Cancel"),o.Ob(),o.Pb(64,"button",41),o.tc(65,u,1,0,"i",42),o.tc(66,f,1,0,"i",43),o.vc(67," Success"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()),2&e&&(o.ec("show",t.loadingState),o.zb(6),o.xc("",t.isEditing?"Update":"Create"," Banner"),o.zb(2),o.ec("ngIf",t.loadingState),o.zb(2),o.ec("formGroup",t.addForm),o.zb(8),o.ec("src",t.editImageUrl?t.editImageUrl:"assets/images/demo.png",o.pc),o.zb(21),o.ec("formControl",t.addForm.controls.title),o.zb(5),o.ec("formControl",t.addForm.controls.url),o.zb(7),o.ec("formControl",t.addForm.controls.is_active),o.zb(7),o.ec("formControl",t.addForm.controls.info),o.zb(3),o.ec("routerLink",o.gc(13,p)),o.zb(3),o.ec("disabled",t.showLoader),o.zb(1),o.ec("ngIf",!t.showLoader),o.zb(1),o.ec("ngIf",t.showLoader))},directives:[s.a,r.l,n.r,n.j,d.a,n.e,n.b,n.i,n.d,l.a,n.a,a.f],encapsulation:2}),e})();var h=i("Vr6k"),v=i("PCNd"),g=i("ZOsW"),O=i("yCMK");const P=[{path:"",component:m}];let w=(()=>{class e{}return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[r.b,n.f,n.n,a.i.forChild(P),h.a,v.a,O.a,g.b]]}),e})()},PCNd:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i("ofXK"),n=i("fXoL");let a=(()=>{class e{}return e.\u0275mod=n.Hb({type:e}),e.\u0275inj=n.Gb({factory:function(t){return new(t||e)},imports:[[r.b]]}),e})()}}]);